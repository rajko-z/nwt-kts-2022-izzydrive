<div style="display: flex; flex-direction: row;">
    <div class="date-picker-container">
        <p class="title">Choose start and end date for report</p>
        <form class="date-form" [formGroup]="this.dateForm"
          (ngSubmit)="onSubmit()">

          <mat-form-field appearance="fill" *ngIf="isAdmin">
            <mat-label>Users:</mat-label>
            <mat-select [(value)]="value">
              <mat-option [value]="null">
                --All users--
              </mat-option>
              <mat-option *ngFor="let user of users" [value]="user">
                {{user.email}}
              </mat-option>
            </mat-select>
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Choose a date</mat-label>
            <input matInput [matDatepicker]="picker"
                    required
                    formControlName="startDate"
                    [max]="maxDate">
            <mat-hint>MM/DD/YYYY</mat-hint>
            <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
            <mat-error *ngIf="this.dateForm.controls.startDate.hasError('required')">Start Date is required</mat-error>
                <mat-error *ngIf="this.dateForm.controls.startDate.hasError('matDatepickerMax')">Max date is tooday</mat-error>

        </mat-form-field>
            <mat-form-field appearance="outline">
                <mat-label>Choose a date</mat-label>
                <input matInput [matDatepicker]="picker1"
                        required
                        formControlName="endDate"
                        [max]="maxDate"
                        [min]="this.dateForm.controls.startDate.value">
                <mat-hint>MM/DD/YYYY</mat-hint>
                <mat-datepicker-toggle matIconSuffix [for]="picker1"></mat-datepicker-toggle>
                <mat-datepicker #picker1></mat-datepicker>
                <mat-error *ngIf="this.dateForm.controls.endDate.hasError('required')">Enc Date is required</mat-error>
                <mat-error *ngIf="this.dateForm.controls.endDate.hasError('matDatepickerMax')">Max date is tooday</mat-error>
                <mat-error *ngIf="this.dateForm.controls.endDate.hasError('matDatepickerMin')">Min date is start date</mat-error>
            </mat-form-field>
            <div class="button-container">
            <button mat-button [disabled]="this.dateForm.invalid"
                    [ngClass] = "{'disabled_large_btn': this.dateForm.invalid,  'large_button': !this.dateForm.invalid}"
                    type="submit">Get report</button>
          </div>
        </form>
    </div>
    <div class="reports-contaienr" *ngIf="reportDataLoaded">
        <mat-horizontal-stepper  class="stepper" [linear]="ture" #stepper="matHorizontalStepper">
            <ng-template matStepperIcon="edit">
                <mat-icon>show_chart</mat-icon>
            </ng-template>
            <mat-step style="width: 100%;">
                <app-driving-report-header averageText="Avarage number of drivings per day:" 
                [averageValue]="reportData.averageDrivingsNumber" 
                sumText=" Total number of drivings: " 
                [sumValue]="reportData.sumDrivingsNumber">
                 </app-driving-report-header>
               
                <app-driving-report
                [XAxisValues]="this.reportX"
                [SourceValue]="this.drivingNumbersValues"
                [title]="drivingNumbersReportTitle"></app-driving-report>
            </mat-step>
            <mat-step>
                <app-driving-report-header averageText="Avarage price for driving per day: (din)" 
                                            [averageValue]="reportData.averageDrivingPrice" 
                                            sumText="Total cost of drivings: (din)" 
                                            [sumValue]="reportData.sumDrivingPrice">
                                        </app-driving-report-header>
                <app-driving-report
                [XAxisValues]="this.reportX"
                [SourceValue]="this.priceReportValues"
                [title]="drivingPriceReportTitle"></app-driving-report>
            </mat-step>
            <mat-step>
                <app-driving-report-header averageText="Avarage distance for driving per day: (m)" 
                [averageValue]="reportData.averageDrivingDistance" 
                sumText=" Total distance: (m)" 
                [sumValue]="reportData.sumDrivingDistance">
                 </app-driving-report-header>
                <app-driving-report
                [XAxisValues]="this.reportX"
                [SourceValue]="this.distancereportValues"
                [title]="drivingDistanceReportTitle"></app-driving-report>
            </mat-step>
          </mat-horizontal-stepper>
    </div>
</div>

