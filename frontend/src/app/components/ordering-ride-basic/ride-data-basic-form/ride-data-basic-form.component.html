<form class="location-form"  [formGroup]="this.routeForm">
  <div class="location-fields">
    <span *ngIf="startLocation != null">
      <button class="plus-button" (click)="deleteStartLocation()">
        <em class='fas fa-minus'></em>
      </button>
    </span>
    <mat-form-field appearance="outline">
      <mat-label>Enter start location</mat-label>
      <input matInput
             placeholder="Branislava Nušića 16"
             required
             formControlName="startLocation"
             [matAutocomplete]="startAuto">
      <mat-autocomplete #startAuto="matAutocomplete">
        <mat-option *ngFor="let option of placeOptionsStart$ | async" [value]="option.name"
                    (onSelectionChange)="startPlaceSelected(option)">
          {{option.name}}
        </mat-option>
      </mat-autocomplete>
      <mat-error>Please select valid start location</mat-error>
    </mat-form-field>
    <span *ngIf="endLocation != null">
      <button class="plus-button" (click)="deleteEndLocation()">
        <em class='fas fa-minus'></em>
      </button>
    </span>
    <mat-form-field appearance="outline">
      <mat-label>Enter end location</mat-label>
      <input matInput
             placeholder="Somborska 13"
             required
             formControlName="endLocation"
             [matAutocomplete]="endAuto">
      <mat-autocomplete #endAuto="matAutocomplete">
        <mat-option *ngFor="let option of placeOptionsEnd$ | async" [value]="option.name"
                    (onSelectionChange)="endPlaceSelected(option)">
          {{option.name}}
        </mat-option>
      </mat-autocomplete>
      <mat-error>Please select valid end location</mat-error>
    </mat-form-field>
  </div>
  <div class="submit-item">
    <button class="submit-button" type="submit" [hidden]="apiLoading" (click)="onSubmit()">
      Get a ride
    </button>
    <span [hidden]="apiLoading===false">
      <span><strong>Finding routes...</strong></span>
      <button mat-button>
        <mat-spinner diameter="40"></mat-spinner>
      </button>
    </span>
  </div>
</form>
